description: "Basic conformance tests that all implementations should pass."
section:
  - name: "labels_valid"
    test:
     - input: 
         spec:
           labels:
             env: prod
             experiment: "group b"
         resource:
           labels:
             env: prod
             experiment: "group b"
             release: "v0.1.0"
       output: "optional.none()"
  - name: "missing_env"
    test:
     - input: 
         spec:
           labels:
             env: prod
             experiment: "group b"
         resource:
           labels:
             experiment: "group b"
             release: "v0.1.0"
       output: >
         "missing one or more required labels: [\"env\"]"
  - name: "missing_experiment"
    test:
     - input: 
         spec:
           labels:
             env: prod
             experiment: "group b"
         resource:
           labels:
             env: staging
             release: "v0.1.0"
       output: >
         "missing one or more required labels: [\"experiment\"]"
  - name: "invalid_env"
    test:
     - input: 
         spec:
           labels:
             env: prod
             experiment: "group b"
         resource:
           labels:
             env: staging
             experiment: "group b"
             release: "v0.1.0"
       output: >
         "invalid values provided on one or more labels: [\"env\"]"